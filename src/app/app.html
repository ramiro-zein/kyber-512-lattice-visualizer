<main class="main">
  <div class="content">
    <div id="canvas-container" #canvasContainer class="w-full h-screen"></div>

    <div
      id="ui-layer"
      class="w-full h-full relative flex flex-col justify-between p-4 md:p-8 pointer-events-none"
    >
      <div class="flex flex-col md:flex-row justify-between items-start gap-4 w-full">
        <header class="panel p-5 w-full md:max-w-md pointer-events-auto z-10 order-2 md:order-1">
          <div class="flex items-baseline justify-between md:justify-start gap-3 mb-2">
            <h1 class="text-xl font-bold text-white tracking-tight text-glow">Kyber-512</h1>
            <span
              class="text-[10px] text-cyan-300 font-mono uppercase bg-cyan-950/60 px-2 py-0.5 rounded border border-cyan-900/50"
              >NIST Level 1</span
            >
          </div>
          <div
            class="grid grid-cols-3 gap-2 text-[10px] font-mono text-slate-400 border-t border-slate-700/50 pt-2 mt-2"
          >
            <div>
              <span class="text-slate-500 block">Polinomio (N)</span>
              <span class="text-cyan-400 font-bold">256</span>
            </div>
            <div>
              <span class="text-slate-500 block">M칩dulo (Q)</span>
              <span class="text-purple-400 font-bold">3329</span>
            </div>
            <div>
              <span class="text-slate-500 block">Dimensi칩n (K)</span>
              <span class="text-emerald-400 font-bold">2x2</span>
            </div>
          </div>
        </header>

        <div
          id="status-log"
          class="panel p-3 w-full md:w-96 h-32 md:h-56 overflow-y-auto pointer-events-auto z-10 order-1 md:order-2 text-xs font-mono bg-slate-950/80 shadow-xl border-l-4 border-l-cyan-600"
        >
          <div class="text-slate-500 italic border-b border-slate-800 pb-1 mb-1">
            Kernel matem치tico inicializado.
          </div>
        </div>
      </div>

      <div class="pointer-events-auto z-10 w-full flex justify-center mb-4 md:mb-0">
        <div
          class="panel p-3 md:p-5 flex flex-wrap md:flex-nowrap items-center justify-center gap-4 md:gap-8 shadow-2xl max-w-full border-t border-slate-700/50 bg-slate-900/90"
        >
          <div id="step-1" class="text-center flex-1 md:flex-none min-w-[120px]">
            <span
              class="block text-[9px] md:text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"
              >Setup</span
            >
            <button
              id="btn-keygen"
              (click)="runKeyGen()"
              class="btn btn-primary w-full text-xs md:text-sm shadow-lg hover:scale-105 transform transition-transform"
            >
              Generar Llaves
            </button>
          </div>

          <div class="hidden md:block h-10 w-px bg-slate-700"></div>

          <div
            id="step-2"
            class="opacity-40 pointer-events-none transition-opacity text-center flex-1 md:flex-none min-w-[140px]"
          >
            <span
              class="block text-[9px] md:text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"
              >Encriptar (Bit)</span
            >
            <div class="flex gap-2 justify-center">
              <button
                (click)="startEncrypt(0)"
                class="btn text-xs md:text-sm px-5 hover:text-cyan-300 border-slate-600"
              >
                0
              </button>
              <button
                (click)="startEncrypt(1)"
                class="btn text-xs md:text-sm px-5 hover:text-cyan-300 border-slate-600"
              >
                1
              </button>
            </div>
          </div>

          <div class="hidden md:block h-10 w-px bg-slate-700"></div>

          <div
            id="step-3"
            class="opacity-40 pointer-events-none transition-opacity text-center flex-1 md:flex-none min-w-[120px]"
          >
            <span
              class="block text-[9px] md:text-[10px] text-slate-400 uppercase tracking-widest mb-1 font-bold"
              >Recuperaci칩n</span
            >
            <button
              id="btn-decrypt"
              (click)="runDecrypt()"
              class="btn text-fuchsia-300 border-fuchsia-900/50 hover:bg-fuchsia-900/20 w-full text-xs md:text-sm font-bold shadow-[0_0_15px_rgba(217,70,239,0.15)]"
            >
              Descifrar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<router-outlet />
